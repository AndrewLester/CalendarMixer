{% extends "base.html" %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/calendar.css') }}">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/forms.js') }}" defer></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/calendar.js') }}" defer></script>
    {% if colors is defined %}
    <script type="text/javascript">var savedColors = {{ colors }};</script>
    {% endif %}
    <script type="text/javascript">(function(){var csrf_token = "{{ csrf_token() }}";$.ajaxSetup({beforeSend: function(xhr, settings) {if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {xhr.setRequestHeader("X-CSRFToken", csrf_token);}}});}());</script>
{% endblock %}

{% block navbar %}
{% endblock %}

{% block content %}
    <div id="button-panel">
        <p id="current-date"></p> 
        <button class="month-changer" id="previous-month"></button>
        <button class="month-changer" id="next-month"></button>
    </div>
    <div id="main-content">
        <div id="calendar" class="shown">
            <div id="header" class="calendar-row">
                <div>Sun</div>
                <div>Mon</div>
                <div>Tue</div>
                <div>Wed</div>
                <div>Thu</div>
                <div>Fri</div>
                <div>Sat</div>
            </div>
            {% for i in range(1, 7) %}
                {% include '_calendar_row.html' %}
            {% endfor %}
        </div>
        <div id="filter-editor">
            <h1>Edit Filters</h1>
            <!-- {% for filter in filters %}
                {% include '_filter.html' %}
            {% endfor %} -->
            <form id="filter-form-{{ filter.id }}" class="course-filter" enctype="multipart/form-data" template="filter-form">
                <fieldset class="course-filter-layout">
                    <legend>Filter Id: {{ filter.id }}</legend>
                    <input class="filter-type" type="checkbox" value="checked">Enabled</button>
                    <div class="course-input">
                        {% for id in filter.course_ids %}
                            <div class="recognized-course" data-course-name="{{ id.course_name }}" data-course-id="{{ id.course_id }}" data-realm="{{ id.course_realm }}">
                                <div>{{ id.course_name }}</div>
                                <img class="delete-icon" src="/static/img/close.svg">
                            </div>
                        {% endfor %}
                        <input class="course-chooser" type="text" placeholder="Add Course">
                    </div>
                    <input type="submit" class="form-submit" value="Submit Form">
                </fieldset>
            </form>
            <button id="add-filter">Add Filter</button>
        </div>
        <div id="event-list"></div>
    </div>
    <script src="https://unpkg.com/popper.js@1"></script>
    <script src="https://unpkg.com/tippy.js@4"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/moment.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/calendar-structure.js') }}"></script>
    <div id="identifier-complete"></div>
{% endblock %}